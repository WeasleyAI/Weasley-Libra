# For more information, see the Configuration Guide:
# https://www.librechat.ai/docs/configuration/librechat_yaml

# Configuration version (required)
version: 1.2.1

# Cache settings: Set to true to enable caching
cache: true

# Custom interface configuration
interface:
  customWelcome: "Welcome to Weasley AI! Enjoy your experience."
  # MCP Servers UI configuration
  mcpServers:
    placeholder: 'Select MCP Server'
  # Disable model selection in the UI
  modelSelect: false
  # Keep other UI elements as needed
  endpointsMenu: true
  parameters: true
  sidePanel: true
  presets: true
  prompts: false
  bookmarks: false
  multiConvo: false
  agents: false
  fileSearch: true

# Model specifications for Weasley AI
modelSpecs:
  enforce: true
  prioritize: true
  list:
    - name: "weasley-ai-salesforce"
      label: "Weasley AI - Salesforce Assistant"
      default: true
      description: "Specialized AI assistant for Salesforce data queries and operations"
      showIconInMenu: true
      showIconInHeader: true
      preset:
        endpoint: "google"
        modelLabel: "gemini-2.5-pro"
        model: "gemini-2.5-pro"
        temperature: 0.3
        greeting: "Hello! I'm Weasley AI, your specialized Salesforce assistant enhanced with semantic intelligence. I can help you query Salesforce data, retrieve records, perform operations, and provide advanced analytics through semantic understanding. I have access to both direct Salesforce operations and enhanced semantic queries through Wren Engine. What would you like to know about your Salesforce data?"
        promptPrefix: "You are Weasley AI, a specialized assistant focused exclusively on Salesforce operations with enhanced semantic capabilities. Your primary purpose is to help users query, retrieve, and analyze Salesforce data with improved accuracy through semantic understanding. You have access to Salesforce through two MCP servers: 1) Direct Salesforce operations for CRUD operations, and 2) Wren Engine for semantic layer queries, complex analytics, and business intelligence. Use the appropriate server based on the query complexity - use Wren Engine for analytical queries, business metrics, and complex data relationships, and use direct Salesforce for simple CRUD operations. Always be professional, accurate, and focused on Salesforce-related tasks."
        maxContextTokens: 1000000

# MCP Servers configuration
mcpServers:
  salesforce:
    type: "stdio"
    command: "npx"
    args: ["-y", "@tsmztech/mcp-server-salesforce"]
    env:
      SALESFORCE_CONNECTION_TYPE: "OAuth_2.0_Client_Credentials"
      SALESFORCE_CLIENT_ID: "${SALESFORCE_CLIENT_ID}"
      SALESFORCE_CLIENT_SECRET: "${SALESFORCE_CLIENT_SECRET}"
      SALESFORCE_INSTANCE_URL: "${SALESFORCE_LOGIN_URL}"
    timeout: 60000
    chatMenu: false  # Exclude from chatarea dropdown
    serverInstructions: "This MCP server provides access to Salesforce data and operations. Use it to query Salesforce objects, retrieve records, and perform CRUD operations as requested by the user."
  
  # wren-engine:
  #   type: "stdio"
  #   command: "uv"
  #   args: [
  #     "--directory",
  #     "wren-engine/mcp-server",
  #     "run",
  #     "app/wren.py"
  #   ]
  #   env:
  #     WREN_URL: "${WREN_URL:-localhost:8080}"
  #     CONNECTION_INFO_FILE: "etc/salesforce_connection.json"
  #     MDL_PATH: "etc/salesforce_mdl.json"
  #     SALESFORCE_INSTANCE_URL: "${SALESFORCE_INSTANCE_URL}"
  #     SALESFORCE_USERNAME: "${SALESFORCE_USERNAME}"
  #     SALESFORCE_PASSWORD: "${SALESFORCE_PASSWORD}"
  #     SALESFORCE_SECURITY_TOKEN: "${SALESFORCE_SECURITY_TOKEN}"
  #     SALESFORCE_CLIENT_ID: "${SALESFORCE_CLIENT_ID}"
  #     SALESFORCE_CLIENT_SECRET: "${SALESFORCE_CLIENT_SECRET}"
  #     SALESFORCE_LOGIN_URL: "${SALESFORCE_LOGIN_URL}"
  #   timeout: 60000
  #   chatMenu: false  # Exclude from chatarea dropdown
  #   serverInstructions: "This MCP server provides semantic layer access to Salesforce data through Wren Engine. Use it for complex analytics, business intelligence queries, and semantic understanding of sales data. It enhances the accuracy of Salesforce queries through semantic modeling."

# Endpoints configuration
endpoints:
  # Configure Google endpoint with only Gemini 2.5 Pro
  google:
    models:
      default: ["gemini-2.5-pro"]
      fetch: false  # Disable fetching other models
    titleConvo: true
    titleModel: "gemini-2.5-pro"
    modelDisplayLabel: "Gemini 2.5 Pro"